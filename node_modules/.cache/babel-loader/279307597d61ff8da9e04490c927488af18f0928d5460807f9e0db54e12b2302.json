{"ast":null,"code":"import _objectSpread from\"C:/Users/Sameer Ahmed Malik/Downloads/entnt-dental-dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import DashboardLayout from'../layouts/DashboardLayout';import{getData}from'../utils/localStorageHelpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[patients,setPatients]=useState([]);const[incidents,setIncidents]=useState([]);useEffect(()=>{setPatients(getData('patients')||[]);setIncidents(getData('incidents')||[]);},[]);const totalRevenue=incidents.reduce((sum,i)=>sum+Number(i.cost||0),0);const today=new Date().toISOString().split('T')[0];const upcomingToday=incidents.filter(i=>{var _i$appointmentDate;return(_i$appointmentDate=i.appointmentDate)===null||_i$appointmentDate===void 0?void 0:_i$appointmentDate.startsWith(today);});const topPatients=patients.map(p=>_objectSpread(_objectSpread({},p),{},{count:incidents.filter(i=>i.patientId===p.id).length})).sort((a,b)=>b.count-a.count).slice(0,5);return/*#__PURE__*/_jsx(DashboardLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm text-gray-500\",children:\"Total Patients\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-700\",children:patients.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm text-gray-500\",children:\"Appointments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-indigo-700\",children:incidents.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm text-gray-500\",children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-green-600\",children:[\"\\u20B9\",totalRevenue]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\uD83D\\uDDD3\\uFE0F Appointments Today\"}),upcomingToday.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No appointments today.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:upcomingToday.map(a=>{const patient=patients.find(p=>p.id===a.patientId);return/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between text-sm text-gray-700 border-b pb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(a.appointmentDate).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})}),/*#__PURE__*/_jsx(\"span\",{children:(patient===null||patient===void 0?void 0:patient.name)||'Unknown Patient'}),/*#__PURE__*/_jsx(\"span\",{className:\"italic\",children:a.title})]},a.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\uD83C\\uDFC6 Top Patients\"}),topPatients.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No patient records yet.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-left text-gray-500 border-b\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Visits\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DOB\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:topPatients.map(p=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-1\",children:p.name}),/*#__PURE__*/_jsx(\"td\",{children:p.count}),/*#__PURE__*/_jsx(\"td\",{children:p.dob})]},p.id))})]})]})]})});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","DashboardLayout","getData","jsx","_jsx","jsxs","_jsxs","Dashboard","patients","setPatients","incidents","setIncidents","totalRevenue","reduce","sum","i","Number","cost","today","Date","toISOString","split","upcomingToday","filter","_i$appointmentDate","appointmentDate","startsWith","topPatients","map","p","_objectSpread","count","patientId","id","length","sort","a","b","slice","children","className","patient","find","toLocaleTimeString","hour","minute","name","title","dob"],"sources":["C:/Users/Sameer Ahmed Malik/Downloads/entnt-dental-dashboard/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport DashboardLayout from '../layouts/DashboardLayout';\nimport { getData } from '../utils/localStorageHelpers';\n\nfunction Dashboard() {\n  const [patients, setPatients] = useState([]);\n  const [incidents, setIncidents] = useState([]);\n\n  useEffect(() => {\n    setPatients(getData('patients') || []);\n    setIncidents(getData('incidents') || []);\n  }, []);\n\n  const totalRevenue = incidents.reduce((sum, i) => sum + Number(i.cost || 0), 0);\n  const today = new Date().toISOString().split('T')[0];\n  const upcomingToday = incidents.filter(i => i.appointmentDate?.startsWith(today));\n\n  const topPatients = patients\n    .map(p => ({\n      ...p,\n      count: incidents.filter(i => i.patientId === p.id).length,\n    }))\n    .sort((a, b) => b.count - a.count)\n    .slice(0, 5);\n\n  return (\n    <DashboardLayout>\n      <div className=\"p-4 space-y-6\">\n\n        {/* KPIs */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h4 className=\"text-sm text-gray-500\">Total Patients</h4>\n            <p className=\"text-2xl font-bold text-blue-700\">{patients.length}</p>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h4 className=\"text-sm text-gray-500\">Appointments</h4>\n            <p className=\"text-2xl font-bold text-indigo-700\">{incidents.length}</p>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h4 className=\"text-sm text-gray-500\">Total Revenue</h4>\n            <p className=\"text-2xl font-bold text-green-600\">‚Çπ{totalRevenue}</p>\n          </div>\n        </div>\n\n        {/* Upcoming Appointments */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">üóìÔ∏è Appointments Today</h3>\n          {upcomingToday.length === 0 ? (\n            <p className=\"text-gray-500\">No appointments today.</p>\n          ) : (\n            <ul className=\"space-y-2\">\n              {upcomingToday.map(a => {\n                const patient = patients.find(p => p.id === a.patientId);\n                return (\n                  <li key={a.id} className=\"flex justify-between text-sm text-gray-700 border-b pb-1\">\n                    <span>{new Date(a.appointmentDate).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\n                    <span>{patient?.name || 'Unknown Patient'}</span>\n                    <span className=\"italic\">{a.title}</span>\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n\n        {/* Top Patients */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">üèÜ Top Patients</h3>\n          {topPatients.length === 0 ? (\n            <p className=\"text-gray-500\">No patient records yet.</p>\n          ) : (\n            <table className=\"w-full text-sm\">\n              <thead className=\"text-left text-gray-500 border-b\">\n                <tr>\n                  <th>Name</th>\n                  <th>Visits</th>\n                  <th>DOB</th>\n                </tr>\n              </thead>\n              <tbody>\n                {topPatients.map(p => (\n                  <tr key={p.id} className=\"border-b\">\n                    <td className=\"py-1\">{p.name}</td>\n                    <td>{p.count}</td>\n                    <td>{p.dob}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n\n      </div>\n    </DashboardLayout>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"iJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,eAAe,KAAM,4BAA4B,CACxD,OAASC,OAAO,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE9CD,SAAS,CAAC,IAAM,CACdU,WAAW,CAACP,OAAO,CAAC,UAAU,CAAC,EAAI,EAAE,CAAC,CACtCS,YAAY,CAACT,OAAO,CAAC,WAAW,CAAC,EAAI,EAAE,CAAC,CAC1C,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,YAAY,CAAGF,SAAS,CAACG,MAAM,CAAC,CAACC,GAAG,CAAEC,CAAC,GAAKD,GAAG,CAAGE,MAAM,CAACD,CAAC,CAACE,IAAI,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAC/E,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACpD,KAAM,CAAAC,aAAa,CAAGZ,SAAS,CAACa,MAAM,CAACR,CAAC,OAAAS,kBAAA,QAAAA,kBAAA,CAAIT,CAAC,CAACU,eAAe,UAAAD,kBAAA,iBAAjBA,kBAAA,CAAmBE,UAAU,CAACR,KAAK,CAAC,GAAC,CAEjF,KAAM,CAAAS,WAAW,CAAGnB,QAAQ,CACzBoB,GAAG,CAACC,CAAC,EAAAC,aAAA,CAAAA,aAAA,IACDD,CAAC,MACJE,KAAK,CAAErB,SAAS,CAACa,MAAM,CAACR,CAAC,EAAIA,CAAC,CAACiB,SAAS,GAAKH,CAAC,CAACI,EAAE,CAAC,CAACC,MAAM,EACzD,CAAC,CACFC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACN,KAAK,CAAGK,CAAC,CAACL,KAAK,CAAC,CACjCO,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAEd,mBACElC,IAAA,CAACH,eAAe,EAAAsC,QAAA,cACdjC,KAAA,QAAKkC,SAAS,CAAC,eAAe,CAAAD,QAAA,eAG5BjC,KAAA,QAAKkC,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpDjC,KAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC7CnC,IAAA,OAAIoC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,gBAAc,CAAI,CAAC,cACzDnC,IAAA,MAAGoC,SAAS,CAAC,kCAAkC,CAAAD,QAAA,CAAE/B,QAAQ,CAAC0B,MAAM,CAAI,CAAC,EAClE,CAAC,cACN5B,KAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC7CnC,IAAA,OAAIoC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,cAAY,CAAI,CAAC,cACvDnC,IAAA,MAAGoC,SAAS,CAAC,oCAAoC,CAAAD,QAAA,CAAE7B,SAAS,CAACwB,MAAM,CAAI,CAAC,EACrE,CAAC,cACN5B,KAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC7CnC,IAAA,OAAIoC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,eAAa,CAAI,CAAC,cACxDjC,KAAA,MAAGkC,SAAS,CAAC,mCAAmC,CAAAD,QAAA,EAAC,QAAC,CAAC3B,YAAY,EAAI,CAAC,EACjE,CAAC,EACH,CAAC,cAGNN,KAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC7CnC,IAAA,OAAIoC,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CAAC,uCAAsB,CAAI,CAAC,CACrEjB,aAAa,CAACY,MAAM,GAAK,CAAC,cACzB9B,IAAA,MAAGoC,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,wBAAsB,CAAG,CAAC,cAEvDnC,IAAA,OAAIoC,SAAS,CAAC,WAAW,CAAAD,QAAA,CACtBjB,aAAa,CAACM,GAAG,CAACQ,CAAC,EAAI,CACtB,KAAM,CAAAK,OAAO,CAAGjC,QAAQ,CAACkC,IAAI,CAACb,CAAC,EAAIA,CAAC,CAACI,EAAE,GAAKG,CAAC,CAACJ,SAAS,CAAC,CACxD,mBACE1B,KAAA,OAAekC,SAAS,CAAC,0DAA0D,CAAAD,QAAA,eACjFnC,IAAA,SAAAmC,QAAA,CAAO,GAAI,CAAApB,IAAI,CAACiB,CAAC,CAACX,eAAe,CAAC,CAACkB,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAAO,CAAC,cACzGzC,IAAA,SAAAmC,QAAA,CAAO,CAAAE,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEK,IAAI,GAAI,iBAAiB,CAAO,CAAC,cACjD1C,IAAA,SAAMoC,SAAS,CAAC,QAAQ,CAAAD,QAAA,CAAEH,CAAC,CAACW,KAAK,CAAO,CAAC,GAHlCX,CAAC,CAACH,EAIP,CAAC,CAET,CAAC,CAAC,CACA,CACL,EACE,CAAC,cAGN3B,KAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAD,QAAA,eAC7CnC,IAAA,OAAIoC,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CAAC,2BAAe,CAAI,CAAC,CAC9DZ,WAAW,CAACO,MAAM,GAAK,CAAC,cACvB9B,IAAA,MAAGoC,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,yBAAuB,CAAG,CAAC,cAExDjC,KAAA,UAAOkC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC/BnC,IAAA,UAAOoC,SAAS,CAAC,kCAAkC,CAAAD,QAAA,cACjDjC,KAAA,OAAAiC,QAAA,eACEnC,IAAA,OAAAmC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnC,IAAA,OAAAmC,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnC,IAAA,OAAAmC,QAAA,CAAI,KAAG,CAAI,CAAC,EACV,CAAC,CACA,CAAC,cACRnC,IAAA,UAAAmC,QAAA,CACGZ,WAAW,CAACC,GAAG,CAACC,CAAC,eAChBvB,KAAA,OAAekC,SAAS,CAAC,UAAU,CAAAD,QAAA,eACjCnC,IAAA,OAAIoC,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAEV,CAAC,CAACiB,IAAI,CAAK,CAAC,cAClC1C,IAAA,OAAAmC,QAAA,CAAKV,CAAC,CAACE,KAAK,CAAK,CAAC,cAClB3B,IAAA,OAAAmC,QAAA,CAAKV,CAAC,CAACmB,GAAG,CAAK,CAAC,GAHTnB,CAAC,CAACI,EAIP,CACL,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,EAEH,CAAC,CACS,CAAC,CAEtB,CAEA,cAAe,CAAA1B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}