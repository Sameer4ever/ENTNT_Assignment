{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sameer Ahmed Malik\\\\Downloads\\\\entnt-dental-dashboard\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { getData } from \"../utils/localStorageHelpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const [appointments, setAppointments] = useState([]);\n  const [topPatients, setTopPatients] = useState([]);\n  const [pending, setPending] = useState([]);\n  const [revenue, setRevenue] = useState(0);\n  useEffect(() => {\n    const incidents = getData(\"incidents\") || [];\n    const patients = getData(\"patients\") || [];\n\n    // Get next 5 appointments\n    const upcoming = [...incidents].sort((a, b) => new Date(a.appointmentDate) - new Date(b.appointmentDate)).slice(0, 5);\n\n    // Top patients by number of incidents\n    const patientCount = {};\n    incidents.forEach(i => {\n      patientCount[i.patientId] = (patientCount[i.patientId] || 0) + 1;\n    });\n    const top = Object.entries(patientCount).sort((a, b) => b[1] - a[1]).slice(0, 3).map(([id, count]) => {\n      const patient = patients.find(p => p.id === id);\n      return {\n        name: (patient === null || patient === void 0 ? void 0 : patient.name) || \"Unknown\",\n        count\n      };\n    });\n    const pendingList = incidents.filter(i => i.status !== \"Completed\");\n    const totalRevenue = incidents.filter(i => i.status === \"Completed\").reduce((sum, i) => sum + Number(i.cost || 0), 0);\n    setAppointments(upcoming);\n    setTopPatients(top);\n    setPending(pendingList);\n    setRevenue(totalRevenue);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        className: \"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"\\uD83D\\uDDD3\\uFE0F Next Appointments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"text-sm text-gray-700\",\n          children: appointments.length ? appointments.map(a => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"border-b py-1\",\n            children: [a.title, \" - \", new Date(a.appointmentDate).toLocaleString()]\n          }, a.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"No upcoming appointments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"\\uD83D\\uDC65 Top Patients\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"text-sm text-gray-700\",\n          children: topPatients.length ? topPatients.map((p, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [p.name, \" - \", p.count, \" visits\"]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"No patient activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"\\uD83E\\uDDFE Pending Treatments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl text-yellow-600\",\n          children: pending.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"\\uD83D\\uDCB0 Total Revenue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl text-green-600\",\n          children: [\"\\u20B9 \", revenue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"YhbU8zuveXy0BHaJeT3hfo5n1bI=\", false, function () {\n  return [useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","getData","jsxDEV","_jsxDEV","Dashboard","_s","user","logout","appointments","setAppointments","topPatients","setTopPatients","pending","setPending","revenue","setRevenue","incidents","patients","upcoming","sort","a","b","Date","appointmentDate","slice","patientCount","forEach","i","patientId","top","Object","entries","map","id","count","patient","find","p","name","pendingList","filter","status","totalRevenue","reduce","sum","Number","cost","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","title","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/Sameer Ahmed Malik/Downloads/entnt-dental-dashboard/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { getData } from \"../utils/localStorageHelpers\";\n\nfunction Dashboard() {\n  const { user, logout } = useAuth();\n  const [appointments, setAppointments] = useState([]);\n  const [topPatients, setTopPatients] = useState([]);\n  const [pending, setPending] = useState([]);\n  const [revenue, setRevenue] = useState(0);\n\n  useEffect(() => {\n    const incidents = getData(\"incidents\") || [];\n    const patients = getData(\"patients\") || [];\n\n    // Get next 5 appointments\n    const upcoming = [...incidents]\n      .sort((a, b) => new Date(a.appointmentDate) - new Date(b.appointmentDate))\n      .slice(0, 5);\n\n    // Top patients by number of incidents\n    const patientCount = {};\n    incidents.forEach((i) => {\n      patientCount[i.patientId] = (patientCount[i.patientId] || 0) + 1;\n    });\n    const top = Object.entries(patientCount)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 3)\n      .map(([id, count]) => {\n        const patient = patients.find((p) => p.id === id);\n        return { name: patient?.name || \"Unknown\", count };\n      });\n\n    const pendingList = incidents.filter((i) => i.status !== \"Completed\");\n    const totalRevenue = incidents\n      .filter((i) => i.status === \"Completed\")\n      .reduce((sum, i) => sum + Number(i.cost || 0), 0);\n\n    setAppointments(upcoming);\n    setTopPatients(top);\n    setPending(pendingList);\n    setRevenue(totalRevenue);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold\">Welcome, {user?.role}</h1>\n        <button\n          onClick={logout}\n          className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600\"\n        >\n          Logout\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h2 className=\"text-lg font-semibold mb-2\">üóìÔ∏è Next Appointments</h2>\n          <ul className=\"text-sm text-gray-700\">\n            {appointments.length ? (\n              appointments.map((a) => (\n                <li key={a.id} className=\"border-b py-1\">\n                  {a.title} - {new Date(a.appointmentDate).toLocaleString()}\n                </li>\n              ))\n            ) : (\n              <li>No upcoming appointments</li>\n            )}\n          </ul>\n        </div>\n\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h2 className=\"text-lg font-semibold mb-2\">üë• Top Patients</h2>\n          <ul className=\"text-sm text-gray-700\">\n            {topPatients.length ? (\n              topPatients.map((p, i) => (\n                <li key={i}>\n                  {p.name} - {p.count} visits\n                </li>\n              ))\n            ) : (\n              <li>No patient activity</li>\n            )}\n          </ul>\n        </div>\n\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h2 className=\"text-lg font-semibold mb-2\">üßæ Pending Treatments</h2>\n          <p className=\"text-3xl text-yellow-600\">{pending.length}</p>\n        </div>\n\n        <div className=\"bg-white p-4 rounded shadow\">\n          <h2 className=\"text-lg font-semibold mb-2\">üí∞ Total Revenue</h2>\n          <p className=\"text-3xl text-green-600\">‚Çπ {revenue}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}